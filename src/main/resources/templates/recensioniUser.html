<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>RECENSIONI USER</title>
    <link rel="icon" type="image/x-icon" th:href="@{/images/mw.jpg}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-star-rating@4.1.2/css/star-rating.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-star-rating@4.1.2/themes/krajee-svg/theme.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-star-rating@4.1.2/js/star-rating.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-star-rating@4.1.2/themes/krajee-svg/theme.js"></script>

</head>
<body>
<div th:replace="~{NavBarUser.html}"></div>
<h2>Lascia una recensione ;p</h2>

<form th:action="@{/recensione}" method=post>
    <div class="form-group">
        <label for="voto" class="rating-label">Valutazione:</label>
        <input id="voto" name="voto" type="number" class="rating"
               min="1" max="5" step="1" value="5"
               data-size="md"
               data-stars="5"
               data-show-clear="false"
               data-show-caption="false"
               required>
    </div>

    <!-- Campo commento -->
    <div class="form-group">
        <label for="commento" class="rating-label">Recensione:</label>
        <textarea id="commento" name="commento" class="form-control"
                  rows="4" placeholder="Scrivi la tua recensione qui..." required></textarea>
    </div>
    <input type="submit" value="Pubblica">
</form>

<script>
    $(document).ready(function(){
        // Inizializza il rating input
        $('.rating').rating({
            theme: 'krajee-svg',
            filledStar: '<span class="krajee-icon krajee-icon-star"></span>',
            emptyStar: '<span class="krajee-icon krajee-icon-star"></span>',
            clearButton: '',
            starCaptions: {
                1: 'Molto scarso',
                2: 'Scarso',
                3: 'Discreto',
                4: 'Buono',
                5: 'Eccellente'
            }
        });


        $('.rating').on('rating:change', function(event, value, caption) {
            $(this).attr('title', caption).tooltip('show');
        });
    });
</script>

</body>

</html>